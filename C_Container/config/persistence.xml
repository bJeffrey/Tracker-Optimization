<?xml version="1.0" encoding="UTF-8"?>
<Persistence version="1.0">
  <Snapshots>
    <Enabled>true</Enabled>

    <!-- For HOT_ONLY (SQLite :memory:), snapshots are essential for recovery -->
    <IntervalSeconds>30</IntervalSeconds>
    <Directory>./snapshots</Directory>
    <RetainCount>10</RetainCount>

    <Compression>zstd</Compression>
  </Snapshots>

  <Recovery>
    <LoadLatestOnStartup>true</LoadLatestOnStartup>

    <!-- Optional later: delta log replay between snapshots -->
    <DeltaLog enabled="false"/>
  </Recovery>
</Persistence>
