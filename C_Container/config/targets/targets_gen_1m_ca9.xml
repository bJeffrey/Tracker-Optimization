<?xml version="1.0" encoding="UTF-8"?>
<TargetGeneration version="1.0" id="gen_1m_ca9_v1">
  <Count>1000000</Count>
  <Seed>42</Seed>

  <!-- Spatial distribution: mixture of background + local bubble around ownship -->
  <Mixture>
    <Background fraction="0.95">
      <Model type="global_geodetic">
        <AltitudeMeters model="mixture">
          <Band fraction="0.70" min="0" max="3000"/>
          <Band fraction="0.25" min="3000" max="12000"/>
          <Band fraction="0.05" min="12000" max="18000"/>
        </AltitudeMeters>
      </Model>
    </Background>

    <Local fraction="0.05">
      <Model type="enu_bubble">
        <Center>ownship</Center>
        <RadiusMeters>300000</RadiusMeters>
        <AltitudeMeters model="uniform" min="0" max="18000"/>
      </Model>
    </Local>
  </Mixture>

  <Kinematics>
    <Velocity>
      <SpeedMps model="mixture">
        <Band fraction="0.20" min="0"   max="30"/>
        <Band fraction="0.70" min="80"  max="260"/>
        <Band fraction="0.10" min="260" max="400"/>
      </SpeedMps>
      <VerticalSpeedMps model="normal" mean="0" std="2"/>
    </Velocity>

    <Acceleration>
      <MagnitudeMps2 model="mixture">
        <Band fraction="0.90" min="0" max="2"/>
        <Band fraction="0.10" min="2" max="10"/>
      </MagnitudeMps2>
    </Acceleration>
  </Kinematics>

  <!-- Track age / last update time -->
  <LastUpdateTime model="exponential_age">
    <NowSeconds>0</NowSeconds>
    <TauSeconds>5</TauSeconds>
    <MaxAgeSeconds>120</MaxAgeSeconds>
  </LastUpdateTime>

  <!-- Covariance recipe (SPD-friendly) -->
  <Covariance model="block_diag">
    <!-- Base 1-sigma ranges; you can scale vs age later in code -->
    <SigmaPosMeters model="log_uniform" min="10" max="2000"/>
    <SigmaVelMps    model="log_uniform" min="0.5" max="50"/>
    <SigmaAccelMps2 model="log_uniform" min="0.1" max="10"/>

    <!-- Optional realism: rotate each 3x3 block -->
    <RotatePositionBlock enabled="true"/>
    <RotateVelocityBlock enabled="false"/>
    <RotateAccelBlock    enabled="false"/>
  </Covariance>
</TargetGeneration>
